# 라이믹스 게시물 웹훅 발송 애드온

이 애드온은 라이믹스(XE/Rhymix)에서 게시물이 작성되거나 수정될 때 웹훅을 통해 외부 서비스로 알림을 보내는 기능을 제공합니다.

## 기능

- 게시물 작성 및 수정 시 웹훅 발송
- 관리자 페이지에서 웹훅 URL 설정
- 특정 게시판에만 웹훅 발송 기능 (게시판 SRL 지정)
- 웹훅 트리거 옵션 설정 (새 게시물 작성 시, 게시물 수정 시)

## 설치 방법

1. 이 저장소를 다운로드하거나 클론합니다.
2. 다운로드한 파일을 라이믹스의 `addons` 디렉토리 아래에 `webhook_sender` 폴더를 생성하여 복사합니다.
   - 설치 경로: `/path/to/rhymix/addons/webhook_sender/`
3. 라이믹스 관리자 페이지에서 애드온 관리로 이동합니다.
4. 목록에서 "라이믹스 게시물 웹훅 발송 애드온"을 찾아 활성화합니다.
5. 애드온 설정에서 웹훅 URL과 웹훅을 발송할 게시판 SRL을 설정합니다.

## 설정 방법

1. 라이믹스 관리자 페이지에서 애드온 관리로 이동합니다.
2. "라이믹스 게시물 웹훅 발송 애드온"의 설정 버튼을 클릭합니다.
3. 다음 설정을 입력합니다:
   - **웹훅 URL**: 알림을 보낼 웹훅 URL을 입력합니다. (예: https://n8n.example.com/webhook/...)
   - **웹훅 발송 게시판**: 웹훅을 발송할 게시판의 SRL을 쉼표(,)로 구분하여 입력합니다. 비워두면 모든 게시판에 적용됩니다.
   - **새 게시물 작성 시 웹훅 발송**: 새 게시물이 작성될 때 웹훅을 발송할지 여부를 선택합니다.
   - **게시물 수정 시 웹훅 발송**: 게시물이 수정될 때 웹훅을 발송할지 여부를 선택합니다.
4. 설정을 저장합니다.

## 트리거 옵션 설명

- **새 게시물 작성 시 웹훅 발송**: '예'로 설정하면 새 게시물이 작성될 때 웹훅이 발송됩니다.
- **게시물 수정 시 웹훅 발송**: '예'로 설정하면 게시물이 수정될 때 웹훅이 발송됩니다.
- 두 옵션 모두 '예'로 설정하면 새 게시물 작성과 게시물 수정 시 모두 웹훅이 발송됩니다.
- 두 옵션 모두 '아니오'로 설정하면 웹훅이 발송되지 않습니다.

## 웹훅 데이터 형식

웹훅으로 전송되는 데이터는 다음과 같은 JSON 형식입니다:

```json
{
  "title": "게시글 제목",
  "content": "게시글 내용 (최대 250자)",
  "module_srl": "게시판 모듈 SRL",
  "board_name": "게시판 이름",
  "url": "게시글 URL",
  "message": "알림 메시지",
  "author": "작성자 닉네임",
  "member_srl": "작성자 회원 SRL",
  "regdate": "등록일시 (YYYYMMDDHHmmss)",
  "created_at": "생성일시 (YYYY-MM-DD HH:mm:ss)",
  "updated_at": "수정일시 (YYYY-MM-DD HH:mm:ss)",
  "timestamp": "웹훅 발송 시간 (YYYY-MM-DD HH:mm:ss)",
  "is_new": true/false,
  "is_update": true/false
}
```

## 주의사항

- 웹훅 URL은 반드시 https:// 또는 http://로 시작해야 합니다.
- 웹훅 발송 시 네트워크 문제로 지연이 발생할 수 있습니다.
- 웹훅 수신 서버가 응답하지 않을 경우 게시물 등록에는 영향을 주지 않습니다.

## 라이선스

이 애드온은 MIT 라이선스 하에 배포됩니다.

## 문의 및 버그 리포트

문제가 발생하거나 기능 개선 요청이 있으시면 GitHub 이슈를 통해 알려주세요. 

## 제작자  

라이프오브파이 (indend007@gmail.com)